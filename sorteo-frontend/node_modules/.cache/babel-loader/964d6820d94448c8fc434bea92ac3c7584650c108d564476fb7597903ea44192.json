{"ast":null,"code":"// sorteo-frontend/src/components/Historico.js\nimport React,{useState,useEffect,useMemo}from'react';import{toast}from'react-toastify';import ClipLoader from'react-spinners/ClipLoader';import'./Historico.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Historico(){// Datos generales\nconst[sorteos,setSorteos]=useState([]);const[resultados,setResultados]=useState([]);const[actividad,setActividad]=useState([]);const[cargandoSorteos,setCargandoSorteos]=useState(false);const[cargandoResultados,setCargandoResultados]=useState(false);const[cargandoActividad,setCargandoActividad]=useState(false);// ================================\n// FILTROS Y ORDENAMIENTO PARA RESULTADOS\n// ================================\nconst[filtroSorteo,setFiltroSorteo]=useState('');const[filtroParticipante,setFiltroParticipante]=useState('');const[filtroPremio,setFiltroPremio]=useState('');const[filtroFecha,setFiltroFecha]=useState('');const[opcionesSorteo,setOpcionesSorteo]=useState([]);const[opcionesParticipante,setOpcionesParticipante]=useState([]);const[opcionesPremio,setOpcionesPremio]=useState([]);const[opcionesFecha,setOpcionesFecha]=useState([]);const[sortConfig,setSortConfig]=useState({key:'fecha',direction:'desc'});// ================================\n// FILTROS Y ORDENAMIENTO PARA LISTA DE SORTEOS\n// ================================\n// Filtrado por: nombre, descripción y fecha (formateada)\nconst[filtroSorteoNombre,setFiltroSorteoNombre]=useState('');const[filtroSorteoDescripcion,setFiltroSorteoDescripcion]=useState('');const[filtroSorteoFecha,setFiltroSorteoFecha]=useState('');const[opcionesSorteoNombre,setOpcionesSorteoNombre]=useState([]);const[opcionesSorteoFecha,setOpcionesSorteoFecha]=useState([]);const[sortConfigSorteo,setSortConfigSorteo]=useState({key:'fecha_hora',direction:'desc'});// ================================\n// FETCH DE DATOS\n// ================================\nconst fetchSorteos=async()=>{setCargandoSorteos(true);try{const response=await fetch('http://127.0.0.1:8000/api/sorteos/');const data=await response.json();// Ordenamos de más nuevo a más viejo según fecha_hora\nconst sorteosOrdenados=data.sort((a,b)=>new Date(b.fecha_hora)-new Date(a.fecha_hora));setSorteos(sorteosOrdenados);}catch(error){console.error('Error al obtener sorteos:',error);toast.error('Error al obtener sorteos.');}finally{setCargandoSorteos(false);}};const fetchResultados=async()=>{setCargandoResultados(true);try{const response=await fetch('http://127.0.0.1:8000/api/resultados_sorteo/');const data=await response.json();// Ordenamos de más nuevo a más viejo según fecha\nconst resultadosOrdenados=data.sort((a,b)=>new Date(b.fecha)-new Date(a.fecha));setResultados(resultadosOrdenados);}catch(error){console.error('Error al obtener resultados:',error);toast.error('Error al obtener resultados.');}finally{setCargandoResultados(false);}};const fetchActividad=async()=>{setCargandoActividad(true);try{const response=await fetch('http://127.0.0.1:8000/api/registro_actividad/');const data=await response.json();setActividad(data);}catch(error){console.error('Error al obtener actividad:',error);toast.error('Error al obtener actividad.');}finally{setCargandoActividad(false);}};useEffect(()=>{fetchSorteos();fetchResultados();fetchActividad();},[]);// ================================\n// OPCIONES DE FILTRO PARA RESULTADOS\n// ================================\nuseEffect(()=>{// Opciones para sorteo\nconst nombresSorteo=Array.from(new Set(resultados.map(r=>r.sorteo&&r.sorteo.nombre).filter(Boolean)));setOpcionesSorteo(nombresSorteo);// Opciones para participante (nombre y apellido concatenados)\nconst nombresParticipante=Array.from(new Set(resultados.map(r=>r.participante?\"\".concat(r.participante.nombre,\" \").concat(r.participante.apellido):'').filter(Boolean)));setOpcionesParticipante(nombresParticipante);// Opciones para premio\nconst nombresPremio=Array.from(new Set(resultados.map(r=>r.premio&&r.premio.nombre).filter(Boolean)));setOpcionesPremio(nombresPremio);// Opciones para fecha (YYYY-MM-DD)\nconst fechasUnicas=Array.from(new Set(resultados.map(r=>{const d=new Date(r.fecha);return\"\".concat(d.getFullYear(),\"-\").concat(('0'+(d.getMonth()+1)).slice(-2),\"-\").concat(('0'+d.getDate()).slice(-2));}).filter(Boolean)));setOpcionesFecha(fechasUnicas);},[resultados]);// ================================\n// FILTRADO Y ORDENAMIENTO PARA RESULTADOS\n// ================================\nconst resultadosFiltrados=useMemo(()=>{return resultados.filter(r=>{const matchSorteo=filtroSorteo?r.sorteo&&r.sorteo.nombre===filtroSorteo:true;const participanteNombre=r.participante?\"\".concat(r.participante.nombre,\" \").concat(r.participante.apellido):'';const matchParticipante=filtroParticipante?participanteNombre===filtroParticipante:true;const matchPremio=filtroPremio?r.premio&&r.premio.nombre===filtroPremio:true;const d=new Date(r.fecha);const fechaFormateada=\"\".concat(d.getFullYear(),\"-\").concat(('0'+(d.getMonth()+1)).slice(-2),\"-\").concat(('0'+d.getDate()).slice(-2));const matchFecha=filtroFecha?fechaFormateada===filtroFecha:true;return matchSorteo&&matchParticipante&&matchPremio&&matchFecha;});},[resultados,filtroSorteo,filtroParticipante,filtroPremio,filtroFecha]);const sortedResultados=useMemo(()=>{let sortableItems=[...resultadosFiltrados];if(sortConfig!==null){sortableItems.sort((a,b)=>{var _a$sorteo,_b$sorteo,_a$premio,_b$premio;let aVal,bVal;switch(sortConfig.key){case'id':aVal=a.id;bVal=b.id;break;case'sorteo':aVal=((_a$sorteo=a.sorteo)===null||_a$sorteo===void 0?void 0:_a$sorteo.nombre)||'';bVal=((_b$sorteo=b.sorteo)===null||_b$sorteo===void 0?void 0:_b$sorteo.nombre)||'';break;case'participante':aVal=a.participante?\"\".concat(a.participante.nombre,\" \").concat(a.participante.apellido):'';bVal=b.participante?\"\".concat(b.participante.nombre,\" \").concat(b.participante.apellido):'';break;case'premio':aVal=((_a$premio=a.premio)===null||_a$premio===void 0?void 0:_a$premio.nombre)||'';bVal=((_b$premio=b.premio)===null||_b$premio===void 0?void 0:_b$premio.nombre)||'';break;case'fecha':aVal=new Date(a.fecha);bVal=new Date(b.fecha);break;default:return 0;}if(aVal<bVal)return sortConfig.direction==='asc'?-1:1;if(aVal>bVal)return sortConfig.direction==='asc'?1:-1;return 0;});}return sortableItems;},[resultadosFiltrados,sortConfig]);const requestSort=key=>{let direction='asc';if(sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};const clearFilters=()=>{setFiltroSorteo('');setFiltroParticipante('');setFiltroPremio('');setFiltroFecha('');};// ================================\n// OPCIONES DE FILTRO PARA LISTA DE SORTEOS\n// ================================\nuseEffect(()=>{// Opciones para Nombre\nconst nombres=Array.from(new Set(sorteos.map(s=>s.nombre).filter(Boolean)));setOpcionesSorteoNombre(nombres);// Opciones para Fecha (formateadas como YYYY-MM-DD)\nconst fechas=Array.from(new Set(sorteos.map(s=>{const d=new Date(s.fecha_hora);return\"\".concat(d.getFullYear(),\"-\").concat(('0'+(d.getMonth()+1)).slice(-2),\"-\").concat(('0'+d.getDate()).slice(-2));}).filter(Boolean)));setOpcionesSorteoFecha(fechas);},[sorteos]);// ================================\n// FILTRADO Y ORDENAMIENTO PARA LISTA DE SORTEOS\n// ================================\nconst sorteosFiltrados=useMemo(()=>{return sorteos.filter(s=>{const matchNombre=filtroSorteoNombre?s.nombre===filtroSorteoNombre:true;const matchDescripcion=filtroSorteoDescripcion?s.descripcion.toLowerCase().includes(filtroSorteoDescripcion.toLowerCase()):true;const d=new Date(s.fecha_hora);const fechaFormateada=\"\".concat(d.getFullYear(),\"-\").concat(('0'+(d.getMonth()+1)).slice(-2),\"-\").concat(('0'+d.getDate()).slice(-2));const matchFecha=filtroSorteoFecha?fechaFormateada===filtroSorteoFecha:true;return matchNombre&&matchDescripcion&&matchFecha;});},[sorteos,filtroSorteoNombre,filtroSorteoDescripcion,filtroSorteoFecha]);const sortedSorteos=useMemo(()=>{let sortableItems=[...sorteosFiltrados];if(sortConfigSorteo!==null){sortableItems.sort((a,b)=>{let aVal,bVal;switch(sortConfigSorteo.key){case'id':aVal=a.id;bVal=b.id;break;case'nombre':aVal=a.nombre||'';bVal=b.nombre||'';break;case'descripcion':aVal=a.descripcion||'';bVal=b.descripcion||'';break;case'fecha_hora':aVal=new Date(a.fecha_hora);bVal=new Date(b.fecha_hora);break;default:return 0;}if(aVal<bVal)return sortConfigSorteo.direction==='asc'?-1:1;if(aVal>bVal)return sortConfigSorteo.direction==='asc'?1:-1;return 0;});}return sortableItems;},[sorteosFiltrados,sortConfigSorteo]);const requestSortSorteo=key=>{let direction='asc';if(sortConfigSorteo.key===key&&sortConfigSorteo.direction==='asc'){direction='desc';}setSortConfigSorteo({key,direction});};const clearSorteoFilters=()=>{setFiltroSorteoNombre('');setFiltroSorteoDescripcion('');setFiltroSorteoFecha('');};// ================================\n// RENDERIZACIÓN\n// ================================\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"historico-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Hist\\xF3rico de Sorteos y Actividades\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtros-container\",style:{display:'flex',flexWrap:'wrap',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sorteo:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroSorteo,onChange:e=>setFiltroSorteo(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),opcionesSorteo.map((nombre,idx)=>/*#__PURE__*/_jsx(\"option\",{value:nombre,children:nombre},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Participante:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroParticipante,onChange:e=>setFiltroParticipante(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),opcionesParticipante.map((nombre,idx)=>/*#__PURE__*/_jsx(\"option\",{value:nombre,children:nombre},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Premio:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroPremio,onChange:e=>setFiltroPremio(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),opcionesPremio.map((nombre,idx)=>/*#__PURE__*/_jsx(\"option\",{value:nombre,children:nombre},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroFecha,onChange:e=>setFiltroFecha(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas\"}),opcionesFecha.map((fecha,idx)=>/*#__PURE__*/_jsx(\"option\",{value:fecha,children:fecha},idx))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filtro\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,children:\"Eliminar Filtros\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"historico-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resultados de Sorteos\"}),cargandoResultados?/*#__PURE__*/_jsx(ClipLoader,{size:50,color:\"#123abc\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSort('id'),style:{cursor:'pointer'},children:[\"ID \",sortConfig.key==='id'?sortConfig.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSort('sorteo'),style:{cursor:'pointer'},children:[\"Sorteo \",sortConfig.key==='sorteo'?sortConfig.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSort('participante'),style:{cursor:'pointer'},children:[\"Participante \",sortConfig.key==='participante'?sortConfig.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSort('premio'),style:{cursor:'pointer'},children:[\"Premio \",sortConfig.key==='premio'?sortConfig.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSort('fecha'),style:{cursor:'pointer'},children:[\"Fecha \",sortConfig.key==='fecha'?sortConfig.direction==='asc'?'▲':'▼':'']})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedResultados.map(resultado=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:resultado.id}),/*#__PURE__*/_jsx(\"td\",{children:resultado.sorteo&&resultado.sorteo.nombre?resultado.sorteo.nombre:'Sin nombre'}),/*#__PURE__*/_jsxs(\"td\",{children:[resultado.participante&&resultado.participante.nombre||'Sin participante',' ',resultado.participante&&resultado.participante.apellido||'']}),/*#__PURE__*/_jsx(\"td\",{children:resultado.premio&&resultado.premio.nombre?resultado.premio.nombre:'Sin premio'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(resultado.fecha).toLocaleString()})]},resultado.id))})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtros-container\",style:{display:'flex',flexWrap:'wrap',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroSorteoNombre,onChange:e=>setFiltroSorteoNombre(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),opcionesSorteoNombre.map((nombre,idx)=>/*#__PURE__*/_jsx(\"option\",{value:nombre,children:nombre},idx))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:filtroSorteoDescripcion,onChange:e=>setFiltroSorteoDescripcion(e.target.value),placeholder:\"Buscar descripci\\xF3n...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filtro\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha:\"}),/*#__PURE__*/_jsxs(\"select\",{value:filtroSorteoFecha,onChange:e=>setFiltroSorteoFecha(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas\"}),opcionesSorteoFecha.map((fecha,idx)=>/*#__PURE__*/_jsx(\"option\",{value:fecha,children:fecha},idx))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filtro\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearSorteoFilters,children:\"Eliminar Filtros\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"historico-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Lista de Sorteos\"}),cargandoSorteos?/*#__PURE__*/_jsx(ClipLoader,{size:50,color:\"#123abc\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSortSorteo('id'),style:{cursor:'pointer'},children:[\"ID \",sortConfigSorteo.key==='id'?sortConfigSorteo.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSortSorteo('nombre'),style:{cursor:'pointer'},children:[\"Nombre \",sortConfigSorteo.key==='nombre'?sortConfigSorteo.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSortSorteo('descripcion'),style:{cursor:'pointer'},children:[\"Descripci\\xF3n \",sortConfigSorteo.key==='descripcion'?sortConfigSorteo.direction==='asc'?'▲':'▼':'']}),/*#__PURE__*/_jsxs(\"th\",{onClick:()=>requestSortSorteo('fecha_hora'),style:{cursor:'pointer'},children:[\"Fecha y Hora \",sortConfigSorteo.key==='fecha_hora'?sortConfigSorteo.direction==='asc'?'▲':'▼':'']})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedSorteos.map(sorteo=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:sorteo.id}),/*#__PURE__*/_jsx(\"td\",{children:sorteo.nombre||'Sin nombre'}),/*#__PURE__*/_jsx(\"td\",{children:sorteo.descripcion||'-'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(sorteo.fecha_hora).toLocaleString()})]},sorteo.id))})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"historico-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Registro de Actividades\"}),cargandoActividad?/*#__PURE__*/_jsx(ClipLoader,{size:50,color:\"#123abc\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"actividad-list\",children:actividad.map(act=>/*#__PURE__*/_jsxs(\"li\",{children:[new Date(act.fecha_hora).toLocaleString(),\" - \",act.evento]},act.id))})]})]});}export default Historico;","map":{"version":3,"names":["React","useState","useEffect","useMemo","toast","ClipLoader","jsx","_jsx","jsxs","_jsxs","Historico","sorteos","setSorteos","resultados","setResultados","actividad","setActividad","cargandoSorteos","setCargandoSorteos","cargandoResultados","setCargandoResultados","cargandoActividad","setCargandoActividad","filtroSorteo","setFiltroSorteo","filtroParticipante","setFiltroParticipante","filtroPremio","setFiltroPremio","filtroFecha","setFiltroFecha","opcionesSorteo","setOpcionesSorteo","opcionesParticipante","setOpcionesParticipante","opcionesPremio","setOpcionesPremio","opcionesFecha","setOpcionesFecha","sortConfig","setSortConfig","key","direction","filtroSorteoNombre","setFiltroSorteoNombre","filtroSorteoDescripcion","setFiltroSorteoDescripcion","filtroSorteoFecha","setFiltroSorteoFecha","opcionesSorteoNombre","setOpcionesSorteoNombre","opcionesSorteoFecha","setOpcionesSorteoFecha","sortConfigSorteo","setSortConfigSorteo","fetchSorteos","response","fetch","data","json","sorteosOrdenados","sort","a","b","Date","fecha_hora","error","console","fetchResultados","resultadosOrdenados","fecha","fetchActividad","nombresSorteo","Array","from","Set","map","r","sorteo","nombre","filter","Boolean","nombresParticipante","participante","concat","apellido","nombresPremio","premio","fechasUnicas","d","getFullYear","getMonth","slice","getDate","resultadosFiltrados","matchSorteo","participanteNombre","matchParticipante","matchPremio","fechaFormateada","matchFecha","sortedResultados","sortableItems","_a$sorteo","_b$sorteo","_a$premio","_b$premio","aVal","bVal","id","requestSort","clearFilters","nombres","s","fechas","sorteosFiltrados","matchNombre","matchDescripcion","descripcion","toLowerCase","includes","sortedSorteos","requestSortSorteo","clearSorteoFilters","className","children","style","display","flexWrap","alignItems","gap","value","onChange","e","target","idx","onClick","size","color","cursor","resultado","toLocaleString","type","placeholder","act","evento"],"sources":["/Users/luciano/Desktop/git sorteo/sorteo_project/sorteo-frontend/src/components/Historico.js"],"sourcesContent":["// sorteo-frontend/src/components/Historico.js\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { toast } from 'react-toastify';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport './Historico.css';\n\nfunction Historico() {\n  // Datos generales\n  const [sorteos, setSorteos] = useState([]);\n  const [resultados, setResultados] = useState([]);\n  const [actividad, setActividad] = useState([]);\n  const [cargandoSorteos, setCargandoSorteos] = useState(false);\n  const [cargandoResultados, setCargandoResultados] = useState(false);\n  const [cargandoActividad, setCargandoActividad] = useState(false);\n\n  // ================================\n  // FILTROS Y ORDENAMIENTO PARA RESULTADOS\n  // ================================\n  const [filtroSorteo, setFiltroSorteo] = useState('');\n  const [filtroParticipante, setFiltroParticipante] = useState('');\n  const [filtroPremio, setFiltroPremio] = useState('');\n  const [filtroFecha, setFiltroFecha] = useState('');\n\n  const [opcionesSorteo, setOpcionesSorteo] = useState([]);\n  const [opcionesParticipante, setOpcionesParticipante] = useState([]);\n  const [opcionesPremio, setOpcionesPremio] = useState([]);\n  const [opcionesFecha, setOpcionesFecha] = useState([]);\n\n  const [sortConfig, setSortConfig] = useState({ key: 'fecha', direction: 'desc' });\n\n  // ================================\n  // FILTROS Y ORDENAMIENTO PARA LISTA DE SORTEOS\n  // ================================\n  // Filtrado por: nombre, descripción y fecha (formateada)\n  const [filtroSorteoNombre, setFiltroSorteoNombre] = useState('');\n  const [filtroSorteoDescripcion, setFiltroSorteoDescripcion] = useState('');\n  const [filtroSorteoFecha, setFiltroSorteoFecha] = useState('');\n\n  const [opcionesSorteoNombre, setOpcionesSorteoNombre] = useState([]);\n  const [opcionesSorteoFecha, setOpcionesSorteoFecha] = useState([]);\n\n  const [sortConfigSorteo, setSortConfigSorteo] = useState({ key: 'fecha_hora', direction: 'desc' });\n\n  // ================================\n  // FETCH DE DATOS\n  // ================================\n\n  const fetchSorteos = async () => {\n    setCargandoSorteos(true);\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/sorteos/');\n      const data = await response.json();\n      // Ordenamos de más nuevo a más viejo según fecha_hora\n      const sorteosOrdenados = data.sort((a, b) => new Date(b.fecha_hora) - new Date(a.fecha_hora));\n      setSorteos(sorteosOrdenados);\n    } catch (error) {\n      console.error('Error al obtener sorteos:', error);\n      toast.error('Error al obtener sorteos.');\n    } finally {\n      setCargandoSorteos(false);\n    }\n  };\n\n  const fetchResultados = async () => {\n    setCargandoResultados(true);\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/resultados_sorteo/');\n      const data = await response.json();\n      // Ordenamos de más nuevo a más viejo según fecha\n      const resultadosOrdenados = data.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));\n      setResultados(resultadosOrdenados);\n    } catch (error) {\n      console.error('Error al obtener resultados:', error);\n      toast.error('Error al obtener resultados.');\n    } finally {\n      setCargandoResultados(false);\n    }\n  };\n\n  const fetchActividad = async () => {\n    setCargandoActividad(true);\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/registro_actividad/');\n      const data = await response.json();\n      setActividad(data);\n    } catch (error) {\n      console.error('Error al obtener actividad:', error);\n      toast.error('Error al obtener actividad.');\n    } finally {\n      setCargandoActividad(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSorteos();\n    fetchResultados();\n    fetchActividad();\n  }, []);\n\n  // ================================\n  // OPCIONES DE FILTRO PARA RESULTADOS\n  // ================================\n  useEffect(() => {\n    // Opciones para sorteo\n    const nombresSorteo = Array.from(\n      new Set(resultados.map(r => r.sorteo && r.sorteo.nombre).filter(Boolean))\n    );\n    setOpcionesSorteo(nombresSorteo);\n\n    // Opciones para participante (nombre y apellido concatenados)\n    const nombresParticipante = Array.from(\n      new Set(\n        resultados\n          .map(r => (r.participante ? `${r.participante.nombre} ${r.participante.apellido}` : ''))\n          .filter(Boolean)\n      )\n    );\n    setOpcionesParticipante(nombresParticipante);\n\n    // Opciones para premio\n    const nombresPremio = Array.from(\n      new Set(resultados.map(r => r.premio && r.premio.nombre).filter(Boolean))\n    );\n    setOpcionesPremio(nombresPremio);\n\n    // Opciones para fecha (YYYY-MM-DD)\n    const fechasUnicas = Array.from(\n      new Set(\n        resultados\n          .map(r => {\n            const d = new Date(r.fecha);\n            return `${d.getFullYear()}-${('0' + (d.getMonth() + 1)).slice(-2)}-${('0' + d.getDate()).slice(-2)}`;\n          })\n          .filter(Boolean)\n      )\n    );\n    setOpcionesFecha(fechasUnicas);\n  }, [resultados]);\n\n  // ================================\n  // FILTRADO Y ORDENAMIENTO PARA RESULTADOS\n  // ================================\n  const resultadosFiltrados = useMemo(() => {\n    return resultados.filter(r => {\n      const matchSorteo = filtroSorteo ? (r.sorteo && r.sorteo.nombre === filtroSorteo) : true;\n      const participanteNombre = r.participante ? `${r.participante.nombre} ${r.participante.apellido}` : '';\n      const matchParticipante = filtroParticipante ? (participanteNombre === filtroParticipante) : true;\n      const matchPremio = filtroPremio ? (r.premio && r.premio.nombre === filtroPremio) : true;\n      const d = new Date(r.fecha);\n      const fechaFormateada = `${d.getFullYear()}-${('0' + (d.getMonth() + 1)).slice(-2)}-${('0' + d.getDate()).slice(-2)}`;\n      const matchFecha = filtroFecha ? (fechaFormateada === filtroFecha) : true;\n      return matchSorteo && matchParticipante && matchPremio && matchFecha;\n    });\n  }, [resultados, filtroSorteo, filtroParticipante, filtroPremio, filtroFecha]);\n\n  const sortedResultados = useMemo(() => {\n    let sortableItems = [...resultadosFiltrados];\n    if (sortConfig !== null) {\n      sortableItems.sort((a, b) => {\n        let aVal, bVal;\n        switch (sortConfig.key) {\n          case 'id':\n            aVal = a.id;\n            bVal = b.id;\n            break;\n          case 'sorteo':\n            aVal = a.sorteo?.nombre || '';\n            bVal = b.sorteo?.nombre || '';\n            break;\n          case 'participante':\n            aVal = a.participante ? `${a.participante.nombre} ${a.participante.apellido}` : '';\n            bVal = b.participante ? `${b.participante.nombre} ${b.participante.apellido}` : '';\n            break;\n          case 'premio':\n            aVal = a.premio?.nombre || '';\n            bVal = b.premio?.nombre || '';\n            break;\n          case 'fecha':\n            aVal = new Date(a.fecha);\n            bVal = new Date(b.fecha);\n            break;\n          default:\n            return 0;\n        }\n        if (aVal < bVal) return sortConfig.direction === 'asc' ? -1 : 1;\n        if (aVal > bVal) return sortConfig.direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [resultadosFiltrados, sortConfig]);\n\n  const requestSort = (key) => {\n    let direction = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const clearFilters = () => {\n    setFiltroSorteo('');\n    setFiltroParticipante('');\n    setFiltroPremio('');\n    setFiltroFecha('');\n  };\n\n  // ================================\n  // OPCIONES DE FILTRO PARA LISTA DE SORTEOS\n  // ================================\n  useEffect(() => {\n    // Opciones para Nombre\n    const nombres = Array.from(new Set(sorteos.map(s => s.nombre).filter(Boolean)));\n    setOpcionesSorteoNombre(nombres);\n\n    // Opciones para Fecha (formateadas como YYYY-MM-DD)\n    const fechas = Array.from(\n      new Set(\n        sorteos.map(s => {\n          const d = new Date(s.fecha_hora);\n          return `${d.getFullYear()}-${('0' + (d.getMonth() + 1)).slice(-2)}-${('0' + d.getDate()).slice(-2)}`;\n        }).filter(Boolean)\n      )\n    );\n    setOpcionesSorteoFecha(fechas);\n  }, [sorteos]);\n\n  // ================================\n  // FILTRADO Y ORDENAMIENTO PARA LISTA DE SORTEOS\n  // ================================\n  const sorteosFiltrados = useMemo(() => {\n    return sorteos.filter(s => {\n      const matchNombre = filtroSorteoNombre ? s.nombre === filtroSorteoNombre : true;\n      const matchDescripcion = filtroSorteoDescripcion\n        ? s.descripcion.toLowerCase().includes(filtroSorteoDescripcion.toLowerCase())\n        : true;\n      const d = new Date(s.fecha_hora);\n      const fechaFormateada = `${d.getFullYear()}-${('0' + (d.getMonth() + 1)).slice(-2)}-${('0' + d.getDate()).slice(-2)}`;\n      const matchFecha = filtroSorteoFecha ? fechaFormateada === filtroSorteoFecha : true;\n      return matchNombre && matchDescripcion && matchFecha;\n    });\n  }, [sorteos, filtroSorteoNombre, filtroSorteoDescripcion, filtroSorteoFecha]);\n\n  const sortedSorteos = useMemo(() => {\n    let sortableItems = [...sorteosFiltrados];\n    if (sortConfigSorteo !== null) {\n      sortableItems.sort((a, b) => {\n        let aVal, bVal;\n        switch (sortConfigSorteo.key) {\n          case 'id':\n            aVal = a.id;\n            bVal = b.id;\n            break;\n          case 'nombre':\n            aVal = a.nombre || '';\n            bVal = b.nombre || '';\n            break;\n          case 'descripcion':\n            aVal = a.descripcion || '';\n            bVal = b.descripcion || '';\n            break;\n          case 'fecha_hora':\n            aVal = new Date(a.fecha_hora);\n            bVal = new Date(b.fecha_hora);\n            break;\n          default:\n            return 0;\n        }\n        if (aVal < bVal) return sortConfigSorteo.direction === 'asc' ? -1 : 1;\n        if (aVal > bVal) return sortConfigSorteo.direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [sorteosFiltrados, sortConfigSorteo]);\n\n  const requestSortSorteo = (key) => {\n    let direction = 'asc';\n    if (sortConfigSorteo.key === key && sortConfigSorteo.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfigSorteo({ key, direction });\n  };\n\n  const clearSorteoFilters = () => {\n    setFiltroSorteoNombre('');\n    setFiltroSorteoDescripcion('');\n    setFiltroSorteoFecha('');\n  };\n\n  // ================================\n  // RENDERIZACIÓN\n  // ================================\n  return (\n    <div className=\"historico-container\">\n      <h2>Histórico de Sorteos y Actividades</h2>\n\n      {/* FILTROS Y ORDENAMIENTO PARA RESULTADOS */}\n      <div className=\"filtros-container\" style={{ display: 'flex', flexWrap: 'wrap', alignItems: 'center', gap: '1rem' }}>\n        <div className=\"filtro\">\n          <label>Sorteo:</label>\n          <select value={filtroSorteo} onChange={(e) => setFiltroSorteo(e.target.value)}>\n            <option value=\"\">Todos</option>\n            {opcionesSorteo.map((nombre, idx) => (\n              <option key={idx} value={nombre}>{nombre}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <label>Participante:</label>\n          <select value={filtroParticipante} onChange={(e) => setFiltroParticipante(e.target.value)}>\n            <option value=\"\">Todos</option>\n            {opcionesParticipante.map((nombre, idx) => (\n              <option key={idx} value={nombre}>{nombre}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <label>Premio:</label>\n          <select value={filtroPremio} onChange={(e) => setFiltroPremio(e.target.value)}>\n            <option value=\"\">Todos</option>\n            {opcionesPremio.map((nombre, idx) => (\n              <option key={idx} value={nombre}>{nombre}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <label>Fecha:</label>\n          <select value={filtroFecha} onChange={(e) => setFiltroFecha(e.target.value)}>\n            <option value=\"\">Todas</option>\n            {opcionesFecha.map((fecha, idx) => (\n              <option key={idx} value={fecha}>{fecha}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <button onClick={clearFilters}>Eliminar Filtros</button>\n        </div>\n      </div>\n\n      <div className=\"historico-section\">\n        <h3>Resultados de Sorteos</h3>\n        {cargandoResultados ? (\n          <ClipLoader size={50} color=\"#123abc\" />\n        ) : (\n          <table className=\"historico-table\">\n            <thead>\n              <tr>\n                <th onClick={() => requestSort('id')} style={{ cursor: 'pointer' }}>\n                  ID {sortConfig.key === 'id' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSort('sorteo')} style={{ cursor: 'pointer' }}>\n                  Sorteo {sortConfig.key === 'sorteo' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSort('participante')} style={{ cursor: 'pointer' }}>\n                  Participante {sortConfig.key === 'participante' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSort('premio')} style={{ cursor: 'pointer' }}>\n                  Premio {sortConfig.key === 'premio' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSort('fecha')} style={{ cursor: 'pointer' }}>\n                  Fecha {sortConfig.key === 'fecha' ? (sortConfig.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedResultados.map(resultado => (\n                <tr key={resultado.id}>\n                  <td>{resultado.id}</td>\n                  <td>{resultado.sorteo && resultado.sorteo.nombre ? resultado.sorteo.nombre : 'Sin nombre'}</td>\n                  <td>\n                    {(resultado.participante && resultado.participante.nombre) || 'Sin participante'}{' '}\n                    {(resultado.participante && resultado.participante.apellido) || ''}\n                  </td>\n                  <td>{resultado.premio && resultado.premio.nombre ? resultado.premio.nombre : 'Sin premio'}</td>\n                  <td>{new Date(resultado.fecha).toLocaleString()}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      <hr />\n\n      {/* FILTROS Y ORDENAMIENTO PARA LISTA DE SORTEOS */}\n      <div className=\"filtros-container\" style={{ display: 'flex', flexWrap: 'wrap', alignItems: 'center', gap: '1rem' }}>\n        <div className=\"filtro\">\n          <label>Nombre:</label>\n          <select value={filtroSorteoNombre} onChange={(e) => setFiltroSorteoNombre(e.target.value)}>\n            <option value=\"\">Todos</option>\n            {opcionesSorteoNombre.map((nombre, idx) => (\n              <option key={idx} value={nombre}>{nombre}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <label>Descripción:</label>\n          <input\n            type=\"text\"\n            value={filtroSorteoDescripcion}\n            onChange={(e) => setFiltroSorteoDescripcion(e.target.value)}\n            placeholder=\"Buscar descripción...\"\n          />\n        </div>\n        <div className=\"filtro\">\n          <label>Fecha:</label>\n          <select value={filtroSorteoFecha} onChange={(e) => setFiltroSorteoFecha(e.target.value)}>\n            <option value=\"\">Todas</option>\n            {opcionesSorteoFecha.map((fecha, idx) => (\n              <option key={idx} value={fecha}>{fecha}</option>\n            ))}\n          </select>\n        </div>\n        <div className=\"filtro\">\n          <button onClick={clearSorteoFilters}>Eliminar Filtros</button>\n        </div>\n      </div>\n\n      <div className=\"historico-section\">\n        <h3>Lista de Sorteos</h3>\n        {cargandoSorteos ? (\n          <ClipLoader size={50} color=\"#123abc\" />\n        ) : (\n          <table className=\"historico-table\">\n            <thead>\n              <tr>\n                <th onClick={() => requestSortSorteo('id')} style={{ cursor: 'pointer' }}>\n                  ID {sortConfigSorteo.key === 'id' ? (sortConfigSorteo.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSortSorteo('nombre')} style={{ cursor: 'pointer' }}>\n                  Nombre {sortConfigSorteo.key === 'nombre' ? (sortConfigSorteo.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSortSorteo('descripcion')} style={{ cursor: 'pointer' }}>\n                  Descripción {sortConfigSorteo.key === 'descripcion' ? (sortConfigSorteo.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n                <th onClick={() => requestSortSorteo('fecha_hora')} style={{ cursor: 'pointer' }}>\n                  Fecha y Hora {sortConfigSorteo.key === 'fecha_hora' ? (sortConfigSorteo.direction === 'asc' ? '▲' : '▼') : ''}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedSorteos.map(sorteo => (\n                <tr key={sorteo.id}>\n                  <td>{sorteo.id}</td>\n                  <td>{sorteo.nombre || 'Sin nombre'}</td>\n                  <td>{sorteo.descripcion || '-'}</td>\n                  <td>{new Date(sorteo.fecha_hora).toLocaleString()}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      <hr />\n\n      {/* REGISTRO DE ACTIVIDADES */}\n      <div className=\"historico-section\">\n        <h3>Registro de Actividades</h3>\n        {cargandoActividad ? (\n          <ClipLoader size={50} color=\"#123abc\" />\n        ) : (\n          <ul className=\"actividad-list\">\n            {actividad.map(act => (\n              <li key={act.id}>\n                {new Date(act.fecha_hora).toLocaleString()} - {act.evento}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Historico;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}